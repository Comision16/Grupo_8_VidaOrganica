<!DOCTYPE html>
<html lang="en">

<%- include('partials/head', { title: 'Añadir' }) %>

    <body>
        <%- include('partials/header') %>

            <main>
                <p class="cart_detail"><a href="/">home</a><i class="fa-solid fa-chevron-right"></i><a href="#"> añadir
                        producto</a></p>

                <h2 class="title_form-add">Añadir productos</h2>


                <form action="" method="POST" class="container_form" id="formulario" enctype="multipart/form-data">
                    
                    <div class="" id="visorArchivo">
                        
                    </div>

                    <div class="form__grupo " id="grupo__nombre">
                        <label for="name" class="form__label">Nombre</label>
                        <div class="form__grupo-input">
                            <input type="text" id="name" name="name" class="form__input">
                            <i class="form__validacion-estado fas fa-times-circle"></i>
                        </div>
                        <p class="form__input-error">Debe tener almenos 4 caracteres, no se aceptan símbolos o
                            caracteres especiales</p>
                            <small class="text-danger"><%= locals.errors && (errors.name && errors.name.msg) %></small>
                    </div>

                    <div class="form__grupo" id="grupo__precio">
                        <label for="price" class="form__label">Precio</label>
                        <div class="form__grupo-input">
                            <input type="text" id="price" name="price" class="form__input">
                            <i class="form__validacion-estado fas fa-times-circle"></i>
                        </div>
                        <p class="form__input-error">Solo numeros. Debe tener almenos 2 digitos</p>
                        <small class="text-danger"><%= locals.errors && (errors.price && errors.price.msg) %></small>
                    </div>

                    <div class="form__grupo" id="grupo__marca">
                        <label for="brand" class="form__label">Marca</label>
                        <div class="form__grupo-input">
                            <select type="text" id="brand" name="brand" class="form__input">
                                <option selected hidden value="">Seleccione una marca</option>
                                <% brands.forEach(brand=> { %>
                                    <option value="<%= brand.id %>">
                                        <%= brand.name %>
                                    </option>
                                    <% }) %>
                            </select>
                            <p class="form__input-error">Debe Seleccionar una marca</p>
                            <small class="text-danger"><%= locals.errors && (errors.brand && errors.brand.msg) %></small>
                        </div>
                    </div>

                    <div class="form__grupo" id="grupo__categoria">
                        <label for="category" class="form__label">Categoria</label>
                        <div class="form__grupo-input">
                            <select type="text" id="category" name="category" class="form__input">
                                <% categories.forEach(category=> { %>
                                    <option selected hidden value="">Seleccione una categoria</option>
                                    <option value="<%= category.id %>">
                                        <%= category.name %>
                                    </option>
                                    <% }) %>
                            </select>
                            <p class="form__input-error">Debe Seleccionar una categoría</p>
                            <small class="text-danger"><%= locals.errors && (errors.category&& errors.category.msg) %></small>
                        </div>
                    </div>

                    <div class="form__grupo" id="grupo__descripcion">
                        <label for="description" class="form__label">Descripción</label>
                        <div class="form__grupo-input">
                            <input type="text" id="description" name="description" class="form__input"
                                placeholder="Breve descripción del producto">
                            <i class="form__validacion-estado fas fa-times-circle"></i>
                        </div>
                        <p class="form__input-error">debe tener almenos 20 caracteres</p>
                        <small class="text-danger"><%= locals.errors && (errors.description && errors.description.msg) %></small>
                    </div>

                    <div class="form__grupo" id="grupo__descuento">
                        <label for="discount" class="form__label">Descuento</label>
                        <div class="form__grupo-input">
                            <input type="number" id="discount" name="discount" class="form__input">
                            <i class="form__validacion-estado fas fa-times-circle"></i>
                        </div>
                    </div>

                    <div class=" form__grupo" id="grupo__imagen">
                        <label for="image" class="form__label-image">Agregar imagen</label>
                        <div class="form__grupo-input">
                            <!-- <img src="\images\DefaultProductImages.jpg" alt="img-default" id="img"/> -->                           
                            <input class="form__input" type="file" id="image" name="image" onchange="return validarExt()">                               
                        </div>
                        <small class="text-danger"><%= locals.errors && (errors.image && errors.image.msg) %></small>
                    </div>

                    <div class="form__grupo form__grupo-btn-agregar">
                        <button type="submit" class="form__btn">Agregar</button>
                        <button type="reset" class="form__btn">Cancelar</button>
                        <p class="form__mensaje-exito" id="form__mensaje-exito">Formulario enviado exitosamente!</p>
                    </div>

                    <div class="form__mensaje" id="form__mensaje">
                        <p><i class="fas fa-exclamation-triangle"></i> <b>Error:</b> Por favor rellena el formulario
                            correctamente.</p>
                    </div>

                </form>

            </main>

            <%- include('partials/footer') %>
            <script src="/javascripts/addAdmin.js"></script>
    </body>
</html>